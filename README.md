# wp_plugins


##Рекомендации:

#### Обновление скриптов и стилей
Для того, чтобы пользователь мог видеть изменения стилей или скриптов без обновления кеша, необходимо к их названиям добавлять вопросительный знак и версию (версию называть по дате обновления). Например, ?v2016.02.02.
<script type="text/javascript" src="http://test.ownradio.ru/wp-includes/js/admin-bar.min.js?ver=2016.02.02"></script>

И при каждом обновлении скрипта обновлять это значение.

### Написание плагина

**ВАЖНО** Кодировка должна быть UTF-8, иначе будут проблемы с кириллицей.

Имя плагина должно быть уникальным и отражать его функциональность. 

Начало главного файла плагина должно содержать стандартный информационный заголовок. Пример:
```php
<?php 
/*
Plugin Name: com.netvoxlab.ownradio
Description: Broadcast radio ownRadio. Listen to your favorite music only.
Version: 2017.02.02
Author: Ltd. NetVox Lab
Author URI: http://www.netvoxlab.ru/
*/
 ?>
```

Относительный путь до директории плагина: plugin_dir_url( __FILE__ )

##### Подключение стилей и скриптов
Для начала необходимо зарегистрировать нужные файлы стилей и скриптов. Для этого используем следующие функции

wp_register_style( $handle, $src, $deps, $ver, $media );
wp_register_script( $handle, $src, $deps, $ver, $in_footer );

После регистрации стилей и скриптов подключаем их функцией wp_enqueue_script(). Функцию нужно подключать через хуки, потому что вызов функции за пределами хуков, может создать проблемы:
wp_enqueue_scripts, если нужно вызвать функцию в лицевой части сайта (фронт-энде).
admin_enqueue_scripts, чтобы вызвать в административной части.
login_enqueue_scripts - для страницы авторизации.

**Важно** Необходимо следить, чтобы стили и скрипты не конфликтовали с уже имеющимися. Кроме того, где можно - лучше их подключать только для тех страниц, где они используются.
Для этого можно, например, проверять на соответствие типу страницы/записи или проверять есть ли шоткод плагина на странице.

#### Более подробная инструкция https://rm.mfc.ru/projects/mfc_33_2016/wiki/Создание_плагина_wordpress

#### Полезные сайты
https://codex.wordpress.org/Написание_плагина

https://wp-kama.ru/ - полезный сайт по wordpress, содержит статьи по веб-разработке преимущественно по WordPress, готовые функции и классы для WordPress, большая коллекция встроенных функции WordPress на русском, с примерами, список со всеми функциями и хуками WordPress.

https://habrahabr.ru/company/dataart/blog/265245/ - cоздание шорткодов в WordPress