Opal.modules.DateTime=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}e.dynamic_require_severity="warning";var a=(e.top,e),u=e.nil,i=(e.breaker,e.slice,e.klass);return e.add_stubs(["$include","$<=>","$nonzero?","$d","$zero?","$new","$class","$-@","$+@","$===","$coerce","$==","$>","$+","$allocate","$wrap","$clone","$raise","$>>","$wday","$-","$to_s","$alias_method"]),function(a,o){function $(){}function d(e,t){var n=e%4===0&&e%100!==0||e%400===0;return[31,n?29:28,31,30,31,30,31,31,30,31,30,31][t]}var s=$=i(a,o,"DateTime",$),f=s.$$proto,c=s.$$scope;f.date=u,function(n,r){function a(){}var o,$=a=i(n,r,"Infinity",a),d=$.$$proto,s=$.$$scope;return d.d=u,$.$include(s.get("Comparable")),e.defn($,"$initialize",function(e){var t=this;return null==e&&(e=1),t.d=e["$<=>"](0)}),e.defn($,"$d",function(){var e=this;return e.d}),e.defn($,"$zero?",function(){return!1}),e.defn($,"$finite?",function(){return!1}),e.defn($,"$infinite?",function(){var e=this;return e.$d()["$nonzero?"]()}),e.defn($,"$nan?",function(){var e=this;return e.$d()["$zero?"]()}),e.defn($,"$abs",function(){var e=this;return e.$class().$new()}),e.defn($,"$-@",function(){var e=this;return e.$class().$new(e.$d()["$-@"]())}),e.defn($,"$+@",function(){var e=this;return e.$class().$new(e.$d()["$+@"]())}),e.defn($,"$<=>",function(t){var n,r,a=this,i=u,o=u,$=u;if(i=t,s.get("Infinity")["$==="](i))return a.$d()["$<=>"](t.$d());if(s.get("Numeric")["$==="](i))return a.$d();try{return r=t.$coerce(a),n=e.to_ary(r),o=null==n[0]?u:n[0],$=null==n[1]?u:n[1],r,o["$<=>"]($)}catch(d){if(!e.rescue(d,[s.get("NoMethodError")]))throw d;try{}finally{e.gvars["!"]=e.exceptions.pop()||e.nil}}return u}),e.defn($,"$coerce",o=function(t){var n=this,r=o.$$p,a=u,i=u,$=u;for(o.$$p=null,i=[],$=0;$<arguments.length;$++)i[$]=arguments[$];return function(){return a=t,s.get("Numeric")["$==="](a)?[n.$d()["$-@"](),n.$d()]:e.find_super_dispatcher(n,"coerce",o,r).apply(n,i)}()}),e.defn($,"$to_f",function(){var e,n=this;return n.d["$=="](0)?0:(e=t(n.d,0))===u||e.$$is_boolean&&1!=e?s.get("Float").$$scope.get("INFINITY")["$-@"]():s.get("Float").$$scope.get("INFINITY")}),u&&"to_f"}(c.base,c.get("Numeric")),e.cdecl(c,"JULIAN",c.get("Infinity").$new()),e.cdecl(c,"GREGORIAN",c.get("Infinity").$new()["$-@"]()),e.cdecl(c,"ITALY",2299161),e.cdecl(c,"ENGLAND",2361222),e.cdecl(c,"MONTHNAMES",n([u],["January","February","March","April","May","June","July","August","September","October","November","December"])),e.cdecl(c,"DAYNAMES",["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]),e.cdecl(c,"ABBR_DAYNAMES",["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),function(t){t.$$scope,t.$$proto;return e.alias(t,"civil","new"),e.defn(t,"$wrap",function(e){var t=this,n=u;return n=t.$allocate(),n.date=e,n}),e.defn(t,"$parse",function(e){var t=this,n=u;return(n=/^(\d*)-(\d*)-(\d*)/.exec(e))?t.$wrap(new Date(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10))):(n=/^(\d*).(\d*).(\d*)/.exec(e),n?t.$wrap(new Date(parseInt(n[3],10),parseInt(n[2],10)-1,parseInt(n[1],10))):u)}),e.defn(t,"$Parse",function(e){var t=this,n=u;return(n=/^(\d*)-(\d*)-(\d*)/.exec(e))?t.$wrap(new Date(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10))):(n=/^(\d*).(\d*).(\d*)/.exec(e),n?t.$wrap(new Date(parseInt(n[3],10),parseInt(n[2],10)-1,parseInt(n[1],10))):u)}),e.defn(t,"$Now",function(){var e=this;return e.$wrap(new Date)}),e.defn(t,"$today",function(){var e=this;return e.$wrap(new Date)}),u&&"today"}(e.get_singleton_class(s)),e.defn(s,"$initialize",function(e,t,n,r){var a=this;return null==e&&(e=-4712),null==t&&(t=1),null==n&&(n=1),null==r&&(r=c.get("ITALY")),a.date=new Date(e,t-1,n)}),e.defn(s,"$-",function(e){var t=this;if(e.$$is_number){var n=t.$clone();return n.date.setDate(t.date.getDate()-e),n}return e.date?Math.round((t.date-e.date)/864e5):void t.$raise(c.get("TypeError"))}),e.defn(s,"$+",function(e){var t=this;if(e.$$is_number){var n=t.$clone();return n.date.setDate(t.date.getDate()+e),n}t.$raise(c.get("TypeError"))}),e.defn(s,"$<",function(e){var t=this,n=t.date,r=e.date;return n.setHours(0,0,0,0),r.setHours(0,0,0,0),r>n}),e.defn(s,"$<=",function(e){var t=this,n=t.date,r=e.date;return n.setHours(0,0,0,0),r.setHours(0,0,0,0),r>=n}),e.defn(s,"$>",function(e){var t=this,n=t.date,r=e.date;return n.setHours(0,0,0,0),r.setHours(0,0,0,0),n>r}),e.defn(s,"$>=",function(e){var t=this,n=t.date,r=e.date;return n.setHours(0,0,0,0),r.setHours(0,0,0,0),n>=r}),e.defn(s,"$<=>",function(e){var t=this,n=t.date,r=e.date;return n.setHours(0,0,0,0),r.setHours(0,0,0,0),r>n?-1:n>r?1:0}),e.defn(s,"$==",function(e){var t=this,n=t.date,r=e.date;return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()}),e.defn(s,"$>>",function(e){var t=this;e.$$is_number||t.$raise(c.get("TypeError"));var n=t.$clone(),r=n.date,a=r.getDate();return r.setDate(1),r.setMonth(r.getMonth()+e),r.setDate(Math.min(a,d(r.getFullYear(),r.getMonth()))),n}),e.defn(s,"$<<",function(e){var t=this;return e.$$is_number||t.$raise(c.get("TypeError")),t["$>>"](-e)}),e.alias(s,"eql?","=="),e.defn(s,"$clone",function(){var e=this;return c.get("Date").$wrap(new Date(e.date.getTime()))}),e.defn(s,"$day",function(){var e=this;return e.date.getDate()}),e.defn(s,"$friday?",function(){var e=this;return e.$wday()["$=="](5)}),e.defn(s,"$jd",function(){var e,t,n,r,a,u=this,i=u.date.getMonth()+1,o=u.date.getDate(),$=u.date.getFullYear(),d=12,s=0,f=0;return d=d+s/60+f/3600,e=1,$>1585||(e=0),a=-1*Math.floor(7*(Math.floor((i+9)/12)+$)/4),t=1,0>i-9&&(t=-1),n=Math.abs(i-9),r=Math.floor($+t*Math.floor(n/7)),r=-1*Math.floor(3*(Math.floor(r/100)+1)/4),a=a+Math.floor(275*i/9)+o+e*r,a=a+1721027+2*e+367*$-.5,a+=d/24}),e.defn(s,"$julian?",function(){var e=this;return e.date<new Date(1582,9,15,12)}),e.defn(s,"$monday?",function(){var e=this;return e.$wday()["$=="](1)}),e.defn(s,"$month",function(){var e=this;return e.date.getMonth()+1}),e.defn(s,"$next",function(){var e=this;return n(e,1)}),e.defn(s,"$next_day",function(e){var t=this;return null==e&&(e=1),n(t,e)}),e.defn(s,"$next_month",function(){var e=this,t=e.$clone(),n=t.date,r=n.getDate();return n.setDate(1),n.setMonth(n.getMonth()+1),n.setDate(Math.min(r,d(n.getFullYear(),n.getMonth()))),t}),e.defn(s,"$prev_day",function(e){var t=this;return null==e&&(e=1),r(t,e)}),e.defn(s,"$prev_month",function(){var e=this,t=e.$clone(),n=t.date,r=n.getDate();return n.setDate(1),n.setMonth(n.getMonth()-1),n.setDate(Math.min(r,d(n.getFullYear(),n.getMonth()))),t}),e.defn(s,"$saturday?",function(){var e=this;return e.$wday()["$=="](6)}),e.defn(s,"$strftime",function(e){var t=this;return null==e&&(e=""),""==e?t.$to_s():t.date.$strftime(e)}),s.$alias_method("succ","next"),e.defn(s,"$sunday?",function(){var e=this;return e.$wday()["$=="](0)}),e.defn(s,"$thursday?",function(){var e=this;return e.$wday()["$=="](4)}),e.defn(s,"$to_s",function(){var e=this,t=e.date,n=t.getFullYear(),r=t.getMonth()+1,a=t.getDate();return 10>r&&(r="0"+r),10>a&&(a="0"+a),n+"-"+r+"-"+a}),e.defn(s,"$tuesday?",function(){var e=this;return e.$wday()["$=="](2)}),e.defn(s,"$wday",function(){var e=this;return e.date.getDay()}),e.defn(s,"$wednesday?",function(){var e=this;return e.$wday()["$=="](3)}),e.defn(s,"$year",function(){var e=this;return e.date.getFullYear()}),e.defn(s,"$Year",function(){var e=this;return e.date.getFullYear()}),e.defn(s,"$Month",function(){var e=this;return e.date.getMonth()+1}),e.defn(s,"$Day",function(){var e=this;return e.date.getDate()}),e.defn(s,"$Date",function(){var e=this;return e.date}),e.defn(s,"$AddDays",function(e){var t=this,n=t.date,r=24*e*60*60*1e3;return n.setTime(n.getTime()+r),t.date}),e.defn(s,"$ToJsNative",function(){var e=this;return e.date})}(a.base,null)};